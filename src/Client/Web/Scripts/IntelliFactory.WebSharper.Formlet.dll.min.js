(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0;$.Define($$,{IntelliFactory:{WebSharper:{Formlet:{Body:$.Class({},{New:function(_1,_2){return $.New(c,{Element:_1,Label:_2});}}),Controls:{Button:function(_3){var _4;_4=function(){return e.Button(f.ofArray([e.Text(_3)]));};return g.ElementButton(_4);},Checkbox:function(_6){return g.CheckboxControl(false,_6);},CheckboxControl:function(_7,_8){var _9;_9=function(){var ba,bb,bc,bd,be,bf,bg,bh,bq,br,bu,bv,bx;ba=i.New($.New(l,{$:0,$0:_8}));bb=(bc=_7?f.ofArray([(bd=e.Attr(),bd.NewAttr("disabled","disabled"))]):$.New(m,{$:0}),(be=n.add(e.Input(f.ofArray([(bf=e.Attr(),bf.NewAttr("type","checkbox")),e.Attr().Class("inputCheckbox")])),bc),(bg=(bh=function(bi){return function(){var bk,bl,bm,bo;if(!_7){bk=(bl=o(bi.Body).prop("checked"),(bm=function(bn){return $.New(l,{$:0,$0:bn});},bm(bl)));bo=function(bp){return ba.Trigger(bp);};return bo(bk);}else{return null;}};},function(bp){return p.Events().OnClick(bh,bp);}),(bg(be),be))));if(_8){bq=bb["HtmlProvider@32"];((br=bb.Body,function(bs){return function(bt){return bq.SetAttribute(br,bs,bt);};})("defaultChecked"))("true");}else{bu=bb["HtmlProvider@32"];(bv=bb.Body,function(bw){return bu.RemoveAttribute(bv,bw);})("checked");}bx=function(){var bz,bA,bD,bE,bG,bH;if(_8){bz=bb["HtmlProvider@32"];((bA=bb.Body,function(bB){return function(bC){return bz.SetProperty(bA,bB,bC);};})("checked"))(true);}else{bD=bb["HtmlProvider@32"];(bE=bb.Body,function(bF){return bD.RemoveAttribute(bE,bF);})("checked");bG=bb["HtmlProvider@32"];((bH=bb.Body,function(bI){return function(bJ){return bG.SetProperty(bH,bI,bJ);};})("checked"))(false);}return ba.Trigger($.New(l,{$:0,$0:_8}));};bx(null);return[bb,bx,ba];};return q.MkFormlet(_9);},CheckboxGroup:function(bK){return g.CheckboxGroupControl(false,bK);},CheckboxGroupControl:function(bL,bM){var bN,bO,bP,bQ,b9,b$,ca,cb;bN=(bO=(bP=(bQ=$.Tupled(function(bR){var bS,bT,bU,bV,bW,bX,bY,bZ,b4,b5;bS=bR[0];bT=bR[1];bU=bR[2];bV=(bW=g.CheckboxControl(bL,bU),(bX=(bY=(bZ=function(){var b1,b2;b1=f.ofArray([e.Text(bS)]);b2=e.Tags();return b2.NewTag("label",b1);},{$:1,$0:bZ}),function(b3){return r.WithLabel(bY,b3);}),bX(bW)));b4=(b5=function(b6){return[b6,bT];},function(b7){return r.Map(b5,b7);});return b4(bV);}),function(b8){return f.map(bQ,b8);}),bP(bM)),(b9=function(b_){return r.Sequence(b_);},b9(bO)));b$=(ca=(cb=$.Tupled(function(cc){var cd,ce;cd=cc[0];ce=cc[1];if(cd){return{$:1,$0:ce};}else{return{$:0};}}),function(cf){return f.choose(cb,cf);}),function(cg){return r.Map(ca,cg);});return b$(bN);},ElementButton:function(ch){var ci;ci=function(){var ck,cl,cm,cn,co,cp,ct;ck=i.New($.New(l,{$:1,$0:$.New(m,{$:0})}));cl={contents:0};cm=(cn=ch(null),(co=(cp=function(){return function(){ck.Trigger($.New(l,{$:0,$0:cl.contents}));return s.Increment(cl);};},function(cs){return p.Events().OnClick(cp,cs);}),(co(cn),cn)));ct=function(){cl.contents=0;return ck.Trigger($.New(l,{$:1,$0:$.New(m,{$:0})}));};return[cm,ct,ck];};return q.MkFormlet(ci);},Input:function(cv){return g.InputField(false,"text",t.InputTextClass(),cv);},InputControl:function(cw,cx){var cy;cy=function(){var cA,cB,cC;cA=i.New($.New(l,{$:0,$0:cw}));cB=cx(cA);cB.set_Value(cw);cC=function(){cB.set_Value(cw);return cA.Trigger($.New(l,{$:0,$0:cw}));};return[cB,cC,cA];};return q.MkFormlet(cy);},InputField:function(cE,cF,cG,cH){return g.InputControl(cH,function(cI){var cJ,cK,cL,cM,cN,cO,cP,cQ;cJ=(cK=cE?f.ofArray([(cL=e.Attr(),cL.NewAttr("readonly","readonly"))]):$.New(m,{$:0}),(cM=(cN=f.ofArray([(cO=e.Attr(),cO.NewAttr("type",cF)),e.Attr().Class(cG)]),f.append(cN,cK)),e.Input(cM)));cP=(cQ=function(){return function(){if(!cE){return cI.Trigger($.New(l,{$:0,$0:cJ.get_Value()}));}else{return null;}};},function(cT){return p.Events().OnKeyUp(cQ,cT);});cP(cJ);return cJ;});},Password:function(cU){return g.InputField(false,"password","inputPassword",cU);},RadioButtonGroup:function(cV,cW){return g.RadioButtonGroupControl(false,cV,cW);},RadioButtonGroupControl:function(cX,cY,cZ){var c0;c0=function(){var c2,c3,c4,c5,c6,c7,c8,dc,dd,dj,dk,dl,_do,dp,dq,dz,dP,dZ,d0,d1,d2,d3,d4,ei,ek,em;c2="id"+u.round(u.random()*100000000);c3=(c4=cY.$==0?{$:0}:(c5=cY.$0,(c6=(c7=(c8=function(c9){return $.Tupled(function(c_){var c$,da;c$=c_[0];da=c_[1];return[c9,da];});},function(db){return f.mapi(c8,db);}),c7(cZ)),(dc=(dd=$.Tupled(function(de){var df,dg,dh;df=de[0];dg=de[1];if(cY.$==0){return{$:0};}else{dh=cY.$0;if(dh===df){return{$:1,$0:$.New(l,{$:0,$0:dg})};}else{return{$:0};}}}),function(di){return v.tryPick(dd,di);}),dc(c6)))),(dj=(dk=i.New($.New(l,{$:1,$0:$.New(m,{$:0})})),(dl=function(dm){return i.New(dm);},function(dn){return w.Maybe(dk,dl,dn);})),dj(c4)));_do=(dp=(dq=$.Tupled(function(dr){var ds,dt,du,dv,dw,dx;ds=dr[0];dt=dr[1];du=n.add(e.Input(f.ofArray([e.Attr().Class("inputRadio"),(dv=e.Attr(),dv.NewAttr("type","radio")),(dw=e.Attr(),dw.NewAttr("name",c2))])),cX?f.ofArray([(dx=e.Attr(),dx.NewAttr("disabled","disabled"))]):$.New(m,{$:0}));return[du,ds,dt];}),function(dy){return f.map(dq,dy);}),dp(cZ));dz=function(dA,dB,dC){var dD,dE,dG,dH,dI,dL,dM;if(cY.$==0){dD=dA["HtmlProvider@32"];(dE=dA.Body,function(dF){return dD.RemoveAttribute(dE,dF);})("checked");return c3.Trigger($.New(l,{$:1,$0:$.New(m,{$:0})}));}else{dG=cY.$0;if(dG===dC){dH=dA["HtmlProvider@32"];((dI=dA.Body,function(dJ){return function(dK){return dH.SetProperty(dI,dJ,dK);};})("checked"))(true);return c3.Trigger($.New(l,{$:0,$0:dB}));}else{dL=dA["HtmlProvider@32"];return((dM=dA.Body,function(dN){return function(dO){return dL.SetProperty(dM,dN,dO);};})("checked"))(false);}}};dP=function(){var dR,dS;dR=(dS=function(dT){return $.Tupled(function(dU){var dV,dW,dX;dV=dU[0];dW=dU[1];dX=dU[2];return dz(dV,dX,dT);});},function(dY){return v.iteri(dS,dY);});return dR(_do);};dZ=(d0=(d1=(d2=(d3=(d4=function(d5){return $.Tupled(function(d6){var d7,d8,d9,d_,d$,ed;d7=d6[0];d8=d6[1];d9=d6[2];dz(d7,d9,d5);d_=(d$=function(){return function(){if(!cX){return c3.Trigger($.New(l,{$:0,$0:d9}));}else{return null;}};},function(ec){return p.Events().OnClick(d$,ec);});d_(d7);ed={$:1,$0:function(){var ef,eg;ef=f.ofArray([e.Text(d8)]);eg=e.Tags();return eg.NewTag("label",ef);}};return $.New(c,{Element:d7,Label:ed});});},function(eh){return f.mapi(d4,eh);}),d3(_do)),(ei=function(ej){return x.FromSequence(ej);},ei(d2))),(ek=function(el){return $.New(y,{$:0,$0:el});},ek(d1))),(em=function(en){return q.RX().Return(en);},em(d0)));return $.New(z,{Body:dZ,Dispose1:function(eo){eo;},Notify:function(){return dP(null);},State:c3});};return r.New(c0);},ReadOnlyCheckbox:function(eq){return g.CheckboxControl(true,eq);},ReadOnlyInput:function(er){return g.InputField(true,"text",t.InputTextClass(),er);},ReadOnlyRadioButtonGroup:function(es,et){return g.RadioButtonGroupControl(true,es,et);},ReadOnlySelect:function(eu,ev){return g.SelectControl(true,eu,ev);},ReadOnlyTextArea:function(ew){return g.TextAreaControl(true,ew);},Select:function(ex,ey){return g.SelectControl(false,ex,ey);},SelectControl:function(ez,eA,eB){var eC;eC=function(){var eE,eF,eG,eH,eK,eM,eN,eO,eP,eQ,eR,e1,e3,e4,e5,e6,fb,fc;eE=(eF=(eG=(eH=$.Tupled(function(eI){return eI[1];}),function(eJ){return f.map(eH,eJ);}),eG(eB)),(eK=function(eL){return A.ofSeq(eL);},eK(eF)));eM=(eA>=0?eA<eB.get_Length():false)?eA:0;eN=(eO=(eP=(eQ=(eR=function(eS){return $.Tupled(function(eT){var eU,eV,eW,eX,eY,eZ;eU=eT[0];eV=eT[1];eW=e.Tags();eX=f.ofArray([e.Text(eU),(eY=e.Attr(),(eZ=$$.String(eS),eY.NewAttr("value",eZ)))]);return eW.NewTag("option",eX);});},function(e0){return f.mapi(eR,e0);}),eQ(eB)),(e1=function(e2){return e.Select(e2);},e1(eP))),ez?n.add(eO,f.ofArray([(e3=e.Attr(),e3.NewAttr("disabled","disabled"))])):eO);e4=$.New(l,{$:0,$0:eE[eM]});e5=i.New(e4);e6=function(){var e8,e9,e_;e8=$$.String(eM);e9=eN["HtmlProvider@32"];((e_=eN.Body,function(e$){return function(fa){return e9.SetProperty(e_,e$,fa);};})("value"))(e8);return e5.Trigger(e4);};e6(null);fb=(fc=function(){var fe,ff,fg,fh,fj;if(!ez){fe=eN.get_Value();ff=(fg=eE[fe<<0],(fh=function(fi){return $.New(l,{$:0,$0:fi});},fh(fg)));fj=function(fk){return e5.Trigger(fk);};return fj(ff);}else{return null;}},function(fl){return p.Events().OnChange(fc,fl);});fb(eN);e6(null);return[eN,e6,e5];};return q.MkFormlet(eC);},TextArea:function(fm){return g.TextAreaControl(false,fm);},TextAreaControl:function(fn,fo){return g.InputControl(fo,function(fp){var fq,fr,fs,ft,fv,fw;fq=(fr=fn?f.ofArray([(fs=e.Attr(),fs.NewAttr("readonly","readonly"))]):$.New(m,{$:0}),(ft=function(fu){return e.TextArea(fu);},ft(fr)));fv=(fw=function(){return function(){if(!fn){return fp.Trigger($.New(l,{$:0,$0:fq.get_Value()}));}else{return null;}};},function(fz){return p.Events().OnKeyUp(fw,fz);});fv(fq);return fq;});}},CssConstants:{InputTextClass:$.Field(function(){return"inputText";})},Data:{$:function(fA,fB){var fC,fD,fF;fC=(fD=q.BaseFormlet(),function(fE){return fD.Apply(fA,fE);}(fB));fF=function(fG){return q.OfIFormlet(fG);};return fF(fC);},BaseFormlet:function(){return B.New(q.UtilsProvider());},DefaultLayout:$.Field(function(){return q.Layout().get_Vertical();}),"Formlet`1":$.Class({Build:function(){return this.BuildInternal.call(null,null);},MapResult:function(fH){var fI,fL=this;fI=$.New(C,{BuildInternal:function(){var fK,fM,fN;fK=fL.BuildInternal.call(null,null);return $.New(z,{Body:fK.Body,Dispose1:fK.Dispose1,Notify:fK.Notify,State:(fM=fL.Utils.Reactive,(fN=fK.State,function(fO){return fM.Select(fN,fO);})(fH))});},LayoutInternal:fL.LayoutInternal,ElementInternal:{$:0},FormletBase:fL.FormletBase,Utils:fL.Utils});return fI;},Render:function(){return this.Run(function(fP){fP;}).Render();},Run:function(fQ){var fR,fS,fT,fU,fZ,f1,f2,f3,f4,f5,f6;fR=this.ElementInternal;if(fR.$==0){fS=this.FormletBase.ApplyLayout(this);fT=fS.Build();fU=D.subscribeTo(fT.State,function(fV){var fW,fX;fW=l.Map(fQ,fV);fX=function(fY){fY;};return fX(fW);});fZ=function(f0){f0;};fZ(fU);f1=(f2=fS.get_Layout().Apply.call(null,fT.Body),f2.$==0?(f3=q.DefaultLayout().Apply.call(null,fT.Body).$0,(f4=f3[0],f4.Element)):(f5=f2.$0[0],f5.Element));this.ElementInternal={$:1,$0:f1};return f1;}else{f6=fR.$0;return f6;}},get_Body:function(){return this.Run(function(f7){f7;}).get_Body();},get_Layout:function(){return this.LayoutInternal;}}),Layout:$.Field(function(){return E.New(F.New({Reactive:G.Default()}));}),MkFormlet:function(f8){var f9,f_,f$,go;f9=(f_=q.BaseFormlet(),(f$=function(){var gb,gc,gd,ge,gf,gh,gi,gj,gl;gb=f8(null);gc=gb[2];gd=gb[1];ge=gb[0];gf=function(){return gd(null);};return $.New(z,{Body:(gh=(gi=q.NewBody(ge,{$:0}),(gj=function(gk){return x.Set(gk);},gj(gi))),(gl=function(gm){return q.RX().Return(gm);},gl(gh))),Dispose1:function(){return null;},Notify:gf,State:gc});},f_.New(f$)));go=function(gp){return q.OfIFormlet(gp);};return go(f9);},NewBody:function(gq,gr){return c.New(gq,gr);},OfIFormlet:function(gs){var gt,gv;gt=$.New(C,{BuildInternal:function(){return gs.Build();},LayoutInternal:gs.get_Layout(),ElementInternal:{$:0},FormletBase:q.BaseFormlet(),Utils:q.UtilsProvider()});gv=function(gw){return q.PropagateRenderFrom(gs,gw);};return gv(gt);},PropagateRenderFrom:function(gx,gy){if(gx.hasOwnProperty("Render")){gy.Render=gx.Render;}return gy;},RX:$.Field(function(){return G.Default();}),UtilsProvider:function(){return{Reactive:q.RX(),DefaultLayout:q.DefaultLayout()};},Validator:$.Field(function(){return H.New(I.New());}),ValidatorProvidor:$.Class({Matches:function(gz,gA){return gA.match(new J(gz));}},{New:function(){var gB;gB={};return $.New(this,gB);}})},"ElementStore`1":$.Class({Init:function(){this.store=L.New2();},RegisterElement:function(gC,gD){var gE,gF;if(gE=this.store.ContainsKey(gC),(gF=function(gG){return!gG;},gF(gE))){return this.store.set_Item(gC,gD);}else{return null;}},Remove:function(gH){var gI,gJ;if(this.store.ContainsKey(gH)){(this.store.get_Item(gH))(null);gI=this.store.Remove(gH);gJ=function(gK){gK;};return gJ(gI);}else{return null;}}},{New:function(){var gL;gL={};return $.New(this,gL);},NewElementStore:function(){var gM;gM=M.New();gM.Init();return gM;}}),Enhance:{Cancel:function(gN,gO){return r.Replace(gN,function(gP){if(gO(gP)){return r.Empty();}else{return r.Return(gP);}});},CustomMany:function(gQ,gR){var gS,gT,gV,gX,gY,gZ,g0,g1,g3,g4,g7,g9,g_,ha,hc,hq,hr,hs,ht,hv,hx,hy,hB;gS=(gT=g.ElementButton(function(){return n.add(e.Div(f.ofArray([e.Attr().Class(gQ.AddIconClass)])),f.ofArray([e.Div($.New(m,{$:0}))]));}),(gV=function(gW){return r.InitWith(1,gW);},gV(gT)));gX=(gY=(gZ=(g0=(g1=g.ElementButton(function(){return n.add(e.Div(f.ofArray([e.Attr().Class(gQ.RemoveIconClass)])),f.ofArray([e.Div($.New(m,{$:0}))]));}),(g3=(g4=function(g5){g5;},function(g6){return r.Map(g4,g6);}),g3(g1))),(g7=function(g8){return r.WithCancelation(gR,g8);},g7(g0))),(g9=(g_=q.Layout().get_Horizontal(),function(g$){return r.WithLayout(g_,g$);}),g9(gZ))),(ha=function(hb){return N.Deletable(hb);},ha(gY)));hc=function(){var he,hf,hg,hi,hj,hm,ho;he=(hf=(hg=N.Many_(gS,function(){return gX;}),(hi=(hj=function(hk){return f.ofSeq(hk);},function(hl){return r.Map(hj,hl);}),hi(hg))),(hm=function(hn){return r.WithLayoutOrDefault(hn);},hm(hf)));ho=function(hp){return r.ApplyLayout(hp);};return ho(he);};hq=i.New($.New(l,{$:0,$0:null}));hr=(hs=q.BaseFormlet().FromState(hq),(ht=function(hu){return q.OfIFormlet(hu);},ht(hs)));hv=function(){return hq.Trigger($.New(l,{$:0,$0:null}));};hx=(hy=r.Do(),hy.Delay(function(){return hy.Bind(hr,function(){return hy.ReturnFrom(hc(null));});}));hB=function(hC){return r.WithNotification(hv,hC);};return hB(hx);},Deletable:function(hD){return N.Replace(hD,function(hE){var hF;if(hE.$==1){hF=hE.$0;return r.Return({$:1,$0:hF});}else{return r.ReturnEmpty({$:0});}});},FormButtonConfiguration:$.Class({},{get_Default:function(){return $.New(O,{Label:{$:0},Style:{$:0},Class:{$:0}});}}),FormContainerConfiguration:$.Class({},{get_Default:function(){var hG;hG={$:0};return $.New(P,{Header:{$:0},Padding:Q.get_Default(),Description:hG,BackgroundColor:{$:0},BorderColor:{$:0},CssClass:{$:0},Style:{$:0}});}}),InputButton:function(hH,hI){var hJ;hJ=function(){var hL,hM,hN,hO,hQ,hR,hS,hT,hU,hV,hZ,h0,h2,h3,h4,h5,h7,h8,h9,h_,ia;hL=i.New($.New(l,{$:1,$0:$.New(m,{$:0})}));hM={contents:0};hN=(hO=w.Maybe("Submit",function(hP){return hP;},hH.Label),(hQ=(hR=n.add(e.Input(f.ofArray([(hS=e.Attr(),hS.NewAttr("type","button"))])),f.ofArray([e.Attr().Class("submitButton"),(hT=e.Attr(),hT.NewAttr("value",hO))])),(hU=(hV=function(){return function(){s.Increment(hM);return hL.Trigger($.New(l,{$:0,$0:hM.contents}));};},function(hY){return p.Events().OnClick(hV,hY);}),(hU(hR),hR))),(!hI?(hZ=hQ["HtmlProvider@32"],(h0=hQ.Body,function(h1){return hZ.AddClass(h0,h1);})("disabledButton")):null,(h2=hH.Style,h2.$==1?(h3=h2.$0,(h4=hQ["HtmlProvider@32"],(h5=hQ.Body,function(h6){return h4.SetStyle(h5,h6);})(h3))):null,(h7=hH.Class,h7.$==1?(h8=h7.$0,(h9=hQ["HtmlProvider@32"],(h_=hQ.Body,function(h$){return h9.AddClass(h_,h$);})(h8))):null,hQ)))));ia=function(){hM.contents=0;return hL.Trigger($.New(l,{$:1,$0:$.New(m,{$:0})}));};hL.Trigger($.New(l,{$:1,$0:$.New(m,{$:0})}));return[hN,ia,hL];};return q.MkFormlet(hJ);},Many:function(ic){return N.CustomMany(R.get_Default(),ic);},ManyConfiguration:$.Class({},{get_Default:function(){return $.New(R,{AddIconClass:"addIcon",RemoveIconClass:"removeIcon"});}}),Many_:function(id,ie){var _if,ig,ih,ii,ij,il,_in,ip,iq,ir;_if=(ig=(ih=(ii=(ij=ie,function(ik){return r.Map(ij,ik);}),ii(id)),(il=function(im){return r.SelectMany(im);},il(ih))),(_in=function(io){return r.FlipBody(io);},_in(ig)));ip=(iq=(ir=function(is){return is;},function(it){return v.choose(ir,it);}),function(iu){return r.Map(iq,iu);});return ip(_if);},Padding:$.Class({},{get_Default:function(){return $.New(Q,{Left:{$:0},Right:{$:0},Top:{$:0},Bottom:{$:0}});}}),Replace:function(iv,iw){var ix,iy,iz;ix=(iy=(iz=function(iA){var iB,iC,iD;if(iA.$==1){iB=iA.$0;iC=r.FailWith(iB);return $.New(l,{$:0,$0:iC});}else{iD=iA.$0;return $.New(l,{$:0,$0:iw(iD)});}},function(iE){return r.MapResult(iz,iE);}),iy(iv));return r.Switch(ix);},ValidationFrameConfiguration:$.Class({},{get_Default:function(){return $.New(S,{ValidClass:{$:1,$0:"successFormlet"},ValidStyle:{$:0},ErrorClass:{$:1,$0:"errorFormlet"},ErrorStyle:{$:0}});}}),ValidationIconConfiguration:$.Class({},{get_Default:function(){return $.New(T,{ValidIconClass:"validIcon",ErrorIconClass:"errorIcon"});}}),WithCssClass:function(iF,iG){var iH,iI;iH=(iI=function(iJ){var iK,iL;iK=iJ["HtmlProvider@32"];(iL=iJ.Body,function(iM){return iK.AddClass(iL,iM);})(iF);return iJ;},function(iN){return r.MapElement(iI,iN);});return iH(iG);},WithCustomFormContainer:function(iO,iP){var iQ,iR,iT,iU;iQ=(iR=function(iS){return r.ApplyLayout(iS);},iR(iP));iT=(iU=function(iV){var iW,iX,iY,iZ,i0,i5,i6,i7,i8,i9,je,jf,jg,jh,jo,jp,jq,jr,ju,jv,jw,jz,jA,jB,jE,jF,jG,jJ,jK,jL,jO,jP,jZ,j0,j1,j2,j4,j5,j6,j7;iW=(iX=iO.Description,(iY=(iZ=$.New(m,{$:0}),(i0=function(i1){var i2,i3;if(i1.$==1){i2=i1.$0;return f.ofArray([i2(null)]);}else{i3=i1.$0;return f.ofArray([e.P(f.ofArray([e.Tags().text(i3)]))]);}},function(i4){return w.Maybe(iZ,i0,i4);})),iY(iX)));i5=(i6=iO.Header,(i7=(i8=w.InTable(f.ofArray([f.ofArray([n.add(e.Div(f.ofArray([e.Attr().Class("headerPanel")])),iW)]),f.ofArray([iV])])),(i9=function(i_){var i$,ja,jb,jc;i$=(ja=i_.$==1?(jb=i_.$0,jb(null)):(jc=i_.$0,e.H1(f.ofArray([e.Tags().text(jc)]))),n.add(e.Div(f.ofArray([e.Attr().Class("headerPanel")])),$.New(m,{$:1,$0:ja,$1:iW})));return w.InTable(f.ofArray([f.ofArray([i$]),f.ofArray([iV])]));},function(jd){return w.Maybe(i8,i9,jd);})),i7(i6)));je=n.add(e.TD(f.ofArray([e.Attr().Class("formlet")])),f.ofArray([i5]));jf=iO.BorderColor;jg=(jh=function(ji){var jj,jk,jl;jj="border-color: "+ji;jk=je["HtmlProvider@32"];return(jl=je.Body,function(jm){return jk.SetStyle(jl,jm);})(jj);},function(jn){return w.Maybe(null,jh,jn);});jg(jf);jo=f.ofArray([["background-color",(jp=iO.BackgroundColor,(jq=(jr=function(js){return js;},function(jt){return w.MapOption(jr,jt);}),jq(jp)))],["padding-left",(ju=iO.Padding.Left,(jv=(jw=function(jx){return $$.String(jx)+"px";},function(jy){return w.MapOption(jw,jy);}),jv(ju)))],["padding-right",(jz=iO.Padding.Right,(jA=(jB=function(jC){return $$.String(jC)+"px";},function(jD){return w.MapOption(jB,jD);}),jA(jz)))],["padding-top",(jE=iO.Padding.Top,(jF=(jG=function(jH){return $$.String(jH)+"px";},function(jI){return w.MapOption(jG,jI);}),jF(jE)))],["padding-bottom",(jJ=iO.Padding.Bottom,(jK=(jL=function(jM){return $$.String(jM)+"px";},function(jN){return w.MapOption(jL,jN);}),jK(jJ)))]]);jO=(jP=$.Tupled(function(jQ){var jR,jS,jT,jU,jV;jR=jQ[0];jS=jQ[1];if(jS.$==0){return null;}else{jT=jS.$0;jU=je["HtmlProvider@32"];return((jV=je.Body,function(jW){return function(jX){return jU.SetCss(jV,jW,jX);};})(jR))(jT);}}),function(jY){return v.iter(jP,jY);});jO(jo);jZ=iO.Style;if(jZ.$==0){}else{j0=jZ.$0;j1=je["HtmlProvider@32"];(j2=je.Body,function(j3){return j1.SetStyle(j2,j3);})(j0);}j4=iO.CssClass;if(j4.$==0){}else{j5=j4.$0;j6=je["HtmlProvider@32"];(j7=je.Body,function(j8){return j6.AddClass(j7,j8);})(j5);}return e.Table(f.ofArray([e.TBody(f.ofArray([e.TR(f.ofArray([je]))]))]));},function(j9){return r.MapElement(iU,j9);});return iT(iQ);},WithCustomResetButton:function(j_,j$){var ka,kb,kc,kd,ke;ka=(kb=j_.Label,kb.$==0?$.New(O,{Label:{$:1,$0:"Reset"},Style:j_.Style,Class:j_.Class}):(kc=kb.$0,j_));kd=N.InputButton(ka,true);ke=function(kf){return N.WithResetFormlet(j$,kf);};return ke(kd);},WithCustomSubmitAndResetButtons:function(kg,kh,ki){var kj;kj=function(kk){return function(kl){var km,kn,ko,kp,kq,kt,ku,kv,kw,kz,kA,kD,kG,kH;km=kl.$==1?(kn=kl.$0,(ko=N.InputButton(kg,false),(kp=(kq=function(){return $.New(l,{$:1,$0:kn});},function(ks){return r.MapResult(kq,ks);}),kp(ko)))):(kt=kl.$0,(ku=N.InputButton(kg,true),(kv=(kw=function(){return kt;},function(ky){return r.Map(kw,ky);}),kv(ku))));kz=(kA=r.Do(),kA.Delay(function(){return kA.Bind(r.LiftResult(N.InputButton(kh,true)),function(kC){if(kC.$==0){kk(null);}return kA.Return(null);});}));kD=q.$(q.$(r.Return(function(kE){return function(){return kE;};}),km),kz);kG=(kH=q.Layout().get_Horizontal(),function(kI){return r.WithLayout(kH,kI);});return kG(kD);};};return N.WithSubmitAndReset(ki,kj);},WithCustomSubmitButton:function(kJ,kK){var kL,kM,kN;kL=(kM=kJ.Label,kM.$==0?$.New(O,{Label:{$:1,$0:"Submit"},Style:kJ.Style,Class:kJ.Class}):(kN=kM.$0,kJ));return N.WithSubmitFormlet(kK,function(kO){var kP,kQ,kR,kT,kU;kP=(kQ=kO.$==0?true:false,(kR=function(kS){return N.InputButton(kL,kS);},kR(kQ)));kT=(kU=function(kV){kV;},function(kW){return r.Map(kU,kW);});return kT(kP);});},WithCustomValidationFrame:function(kX,kY){var kZ,k0;kZ=(k0=function(k1){return function(k2){var k3,k4,k5;k3=e.Div(f.ofArray([k2.Element]));k4=(k5=function(k6){var k7,lI;k7=D.subscribeTo(k1,function(k8){var k9,k_,k$,la,lb,ld,le,lf,lg,li,lj,lk,ll,ln,lo,lq,lr,ls,lt,lv,lw,lx,ly,lA,lB,lC,lD,lF,lG;if(k8.$==1){k9=k8.$0;k_=kX.ValidClass;if(k_.$==1){k$=k_.$0;la=k6["HtmlProvider@32"];(lb=k6.Body,function(lc){return la.RemoveClass(lb,lc);})(k$);}ld=kX.ErrorClass;if(ld.$==1){le=ld.$0;lf=k6["HtmlProvider@32"];(lg=k6.Body,function(lh){return lf.AddClass(lg,lh);})(le);}li=kX.ErrorStyle;if(li.$==1){lj=li.$0;lk=k6["HtmlProvider@32"];return(ll=k6.Body,function(lm){return lk.SetStyle(ll,lm);})(lj);}else{ln=k6["HtmlProvider@32"];return(lo=k6.Body,function(lp){return ln.SetStyle(lo,lp);})("");}}else{lq=kX.ErrorClass;if(lq.$==1){lr=lq.$0;ls=k6["HtmlProvider@32"];(lt=k6.Body,function(lu){return ls.RemoveClass(lt,lu);})(lr);}lv=kX.ValidClass;if(lv.$==1){lw=lv.$0;lx=k6["HtmlProvider@32"];(ly=k6.Body,function(lz){return lx.AddClass(ly,lz);})(lw);}lA=kX.ValidStyle;if(lA.$==1){lB=lA.$0;lC=k6["HtmlProvider@32"];return(lD=k6.Body,function(lE){return lC.SetStyle(lD,lE);})(lB);}else{lF=k6["HtmlProvider@32"];return(lG=k6.Body,function(lH){return lF.SetStyle(lG,lH);})("");}}});lI=function(lJ){lJ;};return lI(k7);},function(lK){return n.OnAfterRender(k5,lK);});k4(k3);return k3;};},function(lL){return N.WrapFormlet(k0,lL);});return kZ(kY);},WithCustomValidationIcon:function(lM,lN){var lO,lP,lR,l4,l5,l6,l_,l$,mc,md;lO=(lP=function(lQ){return r.WithLayoutOrDefault(lQ);},lP(lN));lR=function(lS){var lT,l2;lT=function(){var lV,lW,lX,l0,l1;if(lS.$==1){lV=lS.$0;lW=(lX=function(lY){return function(lZ){return lY+" "+lZ;};},v.fold(lX,"",lV));return n.add(e.Div(f.ofArray([e.Attr().Class(lM.ErrorIconClass),(l0=e.Attr(),l0.NewAttr("title",lW))])),f.ofArray([e.Div($.New(m,{$:0}))]));}else{return n.add(e.Div(f.ofArray([e.Attr().Class(lM.ValidIconClass),(l1=e.Attr(),l1.NewAttr("title",""))])),f.ofArray([e.Div($.New(m,{$:0}))]));}};l2=function(l3){return r.OfElement(l3);};return l2(lT);};l4=(l5=(l6=r.Do(),l6.Delay(function(){return l6.Bind(r.LiftResult(lO),function(l8){return l6.Bind(lR(l8),function(){return l6.Return(l8);});});})),(l_=(l$=function(ma){return l.Join(ma);},function(mb){return r.MapResult(l$,mb);}),l_(l5)));mc=(md=q.Layout().get_Horizontal(),function(me){return r.WithLayout(md,me);});return mc(l4);},WithErrorFormlet:function(mf,mg){var mh,mi,mq,mr;mh=(mi=r.Do(),mi.Delay(function(){return mi.Bind(r.LiftResult(mg),function(mk){var ml,mm,mp;return mi.ReturnFrom(mk.$==1?(ml=mk.$0,(mm=r.Do(),mm.Delay(function(){return mm.Bind(mf(ml),function(){return mm.Return(mk);});}))):(mp=mk.$0,r.Return(mk)));});}));mq=(mr=function(ms){return l.Join(ms);},function(mt){return r.MapResult(mr,mt);});return mq(mh);},WithErrorSummary:function(mu,mv){var mw,mK,mL,mV,mW;mw=function(mx){return r.OfElement(function(){var mz,mA,mB,mC,mD,mE,mH,mJ;mz=f.ofArray([(mA=f.ofArray([e.Text(mu)]),(mB=e.Tags(),mB.NewTag("legend",mA))),(mC=(mD=(mE=function(mF){return e.LI(f.ofArray([e.Text(mF)]));},function(mG){return f.map(mE,mG);}),mD(mx)),(mH=function(mI){return e.UL(mI);},mH(mC)))]);mJ=e.Tags();return mJ.NewTag("fieldset",mz);});};mK=(mL=r.Do(),mL.Delay(function(){return mL.Bind(r.LiftResult(mv),function(mN){var mO,mP,mQ,mR,mU;return mL.ReturnFrom(mN.$==1?(mO=mN.$0,(mP=mw(mO),(mQ=(mR=function(){return mN;},function(mT){return r.Map(mR,mT);}),mQ(mP)))):(mU=mN.$0,r.Return(mN)));});}));mV=(mW=function(mX){return l.Join(mX);},function(mY){return r.MapResult(mW,mY);});return mV(mK);},WithFormContainer:function(mZ){return N.WithCustomFormContainer(P.get_Default(),mZ);},WithJsonPost:function(m0,m1){var m2,m3,m4,m5,m6,m7,m8,m9,m_,m$,na,nb,nc,nd,ne,nf,ng,nh,ni,nj,nk,nl,nm,nn,no,np,nq,ny,nz,nA;m2=(m3=m0.PostUrl,m3.$==0?$.New(m,{$:0}):(m4=m3.$0,f.ofArray([(m5=e.Attr(),m5.NewAttr("action",m4))])));m6=(m7=m0.EncodingType,m7.$==0?$.New(m,{$:0}):(m8=m7.$0,f.ofArray([(m9=e.Attr(),m9.NewAttr("enctype",m8))])));m_=(m$=e.Tags(),(na=f.ofArray([(nb=e.Attr(),nb.NewAttr("type","hidden")),(nc=e.Attr(),(nd=m0.ParameterName,nc.NewAttr("name",nd)))]),m$.NewTag("input",na)));ne=(nf=e.Tags(),(ng=f.ofArray([(nh=e.Attr(),nh.NewAttr("type","submit")),(ni=e.Attr(),ni.NewAttr("value","Submit"))]),nf.NewTag("input",ng)));nj=(nk=(nl=$.New(m,{$:1,$0:(nm=e.Attr(),nm.NewAttr("method","POST")),$1:$.New(m,{$:1,$0:(nn=e.Attr(),nn.NewAttr("style","display:none")),$1:m2})}),f.append(nl,m6)),(no=n.add(e.Form(nk),f.ofArray([m_,ne])),(np=(nq=function(nr){var ns,nt,nu,nv;ns=m0.EncodingType;if(ns.$==0){return null;}else{nt=ns.$0;if(nt==="multipart/form-data"){nu=o(nr.Body).attr("encoding","multipart/form-data");nv=function(nw){nw;};return nv(nu);}else{return null;}}},function(nx){return n.OnAfterRender(nq,nx);}),(np(no),no))));ny=(nz=(nA=function(nB){var nC;nC=U.stringify(nB);o(m_.Body).val(nC);return o(ne.Body).click();},function(nD){return r.Map(nA,nD);}),nz(m1));return e.Div(f.ofArray([nj,ny]));},WithLabel:function(nE,nF){return r.WithLabel({$:1,$0:nE},nF);},WithLabelAbove:function(nG){var nH,nI;nH=(nI=function(nJ){var nK,nL,nM,nN,nO;nK=(nL=(nM=nJ.Label,nM.$==0?e.Span($.New(m,{$:0})):(nN=nM.$0,nN(null))),e.Table(f.ofArray([e.TBody(f.ofArray([e.TR(f.ofArray([e.TD(f.ofArray([nL]))])),e.TR(f.ofArray([e.TD(f.ofArray([nJ.Element]))]))]))])));nO={$:0};return $.New(c,{Element:nK,Label:nO});},function(nP){return r.MapBody(nI,nP);});return nH(nG);},WithLabelAndInfo:function(nQ,nR,nS){var nT;nT=function(){var nV,nW,nX;return w.InTable(f.ofArray([f.ofArray([(nV=f.ofArray([e.Text(nQ)]),(nW=e.Tags(),nW.NewTag("label",nV))),e.Span(f.ofArray([(nX=e.Attr(),nX.NewAttr("title",nR)),e.Attr().Class("infoIcon")]))])]));};return N.WithLabel(nT,nS);},WithLabelConfiguration:function(nY,nZ){var n0,n1,n3,n4;n0=(n1=function(n2){return r.ApplyLayout(n2);},n1(nZ));n3=(n4=q.Layout().LabelLayout(nY),function(n5){return r.WithLayout(n4,n5);});return n3(n0);},WithLabelLeft:function(n6){var n7,n8;n7=(n8=function(n9){var n_,n$,oa,ob,oc;n_=(n$=(oa=n9.Label,oa.$==0?e.Span($.New(m,{$:0})):(ob=oa.$0,ob(null))),e.Table(f.ofArray([e.TBody(f.ofArray([e.TR(f.ofArray([e.TD(f.ofArray([n9.Element])),e.TD(f.ofArray([n$]))]))]))])));oc={$:0};return $.New(c,{Element:n_,Label:oc});},function(od){return r.MapBody(n8,od);});return n7(n6);},WithLegend:function(oe,of){var og,oh;og=(oh=function(oi){var oj,ok,ol,om,on,oo,op;oj=(ok=f.ofArray([(ol=f.ofArray([e.Tags().text(oe)]),(om=e.Tags(),om.NewTag("legend",ol))),(on=oi.Label,on.$==0?oi.Element:(oo=on.$0,w.InTable(f.ofArray([f.ofArray([oo(null),oi.Element])]))))]),(op=e.Tags(),op.NewTag("fieldset",ok)));return $.New(c,{Element:oj,Label:{$:0}});},function(oq){return r.MapBody(oh,oq);});return og(of);},WithResetAction:function(or,os){var ot,ou,ov,ow,oB,oC,oE,oG;ot=(ou=(ov=(ow=function(){var oy,oz;oy=os.Build();oz=function(oA){if(or(null)){return oy.Notify.call(null,oA);}else{return null;}};return $.New(z,{Body:oy.Body,Dispose1:oy.Dispose1,Notify:oz,State:oy.State});},r.New(ow)),(oB=(oC=os.get_Layout(),function(oD){return r.WithLayout(oC,oD);}),oB(ov))),(oE=function(oF){return q.PropagateRenderFrom(os,oF);},oE(ou)));oG=function(oH){return q.OfIFormlet(oH);};return oG(ot);},WithResetButton:function(oI){return N.WithCustomResetButton(O.get_Default(),oI);},WithResetFormlet:function(oJ,oK){var oL,oM,oN,oO,oP,oQ,oS,oU,oW,oY,o0,o1,o2,o3,o4,o_,o$,pc,pe;oL=(oM=(oN=(oO=(oP=(oQ=function(oR){return r.WithLayoutOrDefault(oR);},oQ(oJ)),(oS=function(oT){return r.ApplyLayout(oT);},oS(oP))),(oU=function(oV){return r.InitWithFailure(oV);},oU(oO))),(oW=function(oX){return r.LiftResult(oX);},oW(oN))),(oY=function(oZ){return r.WithNotificationChannel(oZ);},oY(oM)));o0=r.LiftResult(oK);o1=(o2=(o3=(o4=r.Do(),o4.Delay(function(){return o4.Bind(oL,$.Tupled(function(o6){var o7,o8;o7=o6[0];o8=o6[1];return o4.Bind(o0,function(o9){if(o9.$==0){o8(null);}return o4.Return(o7);});}));})),(o_=(o$=function(pa){return l.Join(pa);},function(pb){return r.MapResult(o$,pb);}),o_(o3))),(pc=function(pd){return q.PropagateRenderFrom(oL,pd);},pc(o2)));pe=function(pf){return q.OfIFormlet(pf);};return pe(o1);},WithRowConfiguration:function(pg,ph){var pi,pj,pl,pm;pi=(pj=function(pk){return r.ApplyLayout(pk);},pj(ph));pl=(pm=q.Layout().RowLayout(pg),function(pn){return r.WithLayout(pm,pn);});return pl(pi);},WithSubmitAndReset:function(po,pp){var pq,pr,ps,pF,pH;pq=(pr=(ps=r.Do(),ps.Delay(function(){var pu,pv,pw,py,pA;return ps.Bind((pu=(pv=(pw=function(px){return r.InitWithFailure(px);},pw(po)),(py=function(pz){return r.LiftResult(pz);},py(pv))),(pA=function(pB){return r.WithNotificationChannel(pB);},pA(pu))),$.Tupled(function(pC){var pD,pE;pD=pC[0];pE=pC[1];return ps.ReturnFrom((pp(pE))(pD));}));})),(pF=function(pG){return q.PropagateRenderFrom(po,pG);},pF(pr)));pH=function(pI){return q.OfIFormlet(pI);};return pH(pq);},WithSubmitAndResetButtons:function(pJ){var pK,pL,pM,pN,pO;pK=(pL=(pM=O.get_Default(),$.New(O,{Label:{$:1,$0:"Submit"},Style:pM.Style,Class:pM.Class})),(pN=(pO=O.get_Default(),$.New(O,{Label:{$:1,$0:"Reset"},Style:pO.Style,Class:pO.Class})),function(pP){return N.WithCustomSubmitAndResetButtons(pL,pN,pP);}));return pK(pJ);},WithSubmitButton:function(pQ){return N.WithCustomSubmitButton(O.get_Default(),pQ);},WithSubmitFormlet:function(pR,pS){var pT,pU,pV,pW,p5,p6,p9,p$;pT=(pU=(pV=(pW=r.Do(),pW.Delay(function(){var pY,pZ,p1;return pW.Bind((pY=(pZ=function(p0){return r.InitWithFailure(p0);},pZ(pR)),(p1=function(p2){return r.LiftResult(p2);},p1(pY))),function(p3){return pW.Bind(pS(p3),function(){return pW.Return(p3);});});})),(p5=(p6=function(p7){return l.Join(p7);},function(p8){return r.MapResult(p6,p8);}),p5(pV))),(p9=function(p_){return q.PropagateRenderFrom(pR,p_);},p9(pU)));p$=function(qa){return q.OfIFormlet(qa);};return p$(pT);},WithTextLabel:function(qb,qc){return N.WithLabel(function(){var qe,qf;qe=f.ofArray([e.Text(qb)]);qf=e.Tags();return qf.NewTag("label",qe);},qc);},WithValidationFrame:function(qg){return N.WithCustomValidationFrame(S.get_Default(),qg);},WithValidationIcon:function(qh){return N.WithCustomValidationIcon(T.get_Default(),qh);},WrapFormlet:function(qi,qj){var qk;qk=function(){var qm,qn,qp,qq,qr,qs,qt;qm=(qn=function(qo){return r.WithLayoutOrDefault(qo);},qn(qj));qp=r.BuildForm(qm);qq=qm.get_Layout().Apply.call(null,qp.Body).$0;qr=qq[1];qs=qq[0];qt=(qi(qp.State))(qs);return[qt,function(){return qp.Notify.call(null,null);},qp.State];};return q.MkFormlet(qk);}},Formlet:{ApplyLayout:function(qv){var qw,qx,qy,qA;qw=(qx=q.BaseFormlet().ApplyLayout(qv),(qy=function(qz){return q.PropagateRenderFrom(qv,qz);},qy(qx)));qA=function(qB){return q.OfIFormlet(qB);};return qA(qw);},Bind:function(qC,qD){var qE,qF,qG,qK,qM;qE=(qF=(qG=q.BaseFormlet(),function(qH){return qG.Bind(qC,qH);}(function(qI){var qJ;qJ=qD(qI);return qJ;})),(qK=function(qL){return q.PropagateRenderFrom(qC,qL);},qK(qF)));qM=function(qN){return q.OfIFormlet(qN);};return qM(qE);},BindWith:function(qO,qP,qQ){var qR,qS,qT,qW,qY;qR=(qS=(qT=q.BaseFormlet(),(function(qU){return function(qV){return qT.BindWith(qO,qU,qV);};}(qP))(qQ)),(qW=function(qX){return q.PropagateRenderFrom(qP,qX);},qW(qS)));qY=function(qZ){return q.OfIFormlet(qZ);};return qY(qR);},BuildForm:function(q0){return q.BaseFormlet().BuildForm(q0);},BuildFormlet:function(q1){return q.MkFormlet(q1);},Choose:function(q2){var q3,q4,q5,q6,q7,q8,q9,rk,rm,rn,rM,rN,rQ,rR;q3={contents:0};q4=(q5=(q6=(q7=(q8=(q9=function(q_){var q$,ra,rb,rc,rf,rh;q$=(ra=(rb=(rc=function(rd){s.Increment(q3);return[rd,q3.contents];},function(re){return r.Map(rc,re);}),rb(q_)),(rf=function(rg){return r.InitWithFailure(rg);},rf(ra)));rh=function(ri){return r.LiftResult(ri);};return rh(q$);},function(rj){return v.map(q9,rj);}),q8(q2)),(rk=function(rl){return r.Sequence(rl);},rk(q7))),(rm=(rn=function(ro){var rp,rq,rr,rs,rt,rx,ry,rD,rF,rG;rp=(rq=(rr=(rs=(rt=function(ru){var rv;if(ru.$==0){rv=ru.$0;return{$:1,$0:rv};}else{return{$:0};}},function(rw){return f.choose(rt,rw);}),rs(ro)),(rx=(ry=$.Tupled(function(rz){var rA,rB;rA=rz[0];rB=rz[1];return rB;}),function(rC){return f.sortBy(ry,rC);}),rx(rr))),(rD=function(rE){return f.rev(rE);},rD(rq)));rF=(rG=$.Tupled(function(rH){var rI,rJ;rI=rH[0];rJ=rH[1];return{$:1,$0:rI};}),function(rK){return v.tryPick(rG,rK);});return rF(rp);},function(rL){return r.Map(rn,rL);}),rm(q6))),(rM=(rN=function(rO){return rO.$==1;},function(rP){return q.Validator().Is(rN,"",rP);}),rM(q5)));rQ=(rR=function(rS){return rS.$0;},function(rT){return r.Map(rR,rT);});return rQ(q4);},Delay:function(rU){var rV,rX;rV=q.BaseFormlet().Delay(function(){return rU(null);});rX=function(rY){return q.OfIFormlet(rY);};return rX(rV);},Deletable:function(rZ){var r0,r1,r2,r4;r0=(r1=q.BaseFormlet().Deletable(rZ),(r2=function(r3){return q.PropagateRenderFrom(rZ,r3);},r2(r1)));r4=function(r5){return q.OfIFormlet(r5);};return r4(r0);},Do:$.Field(function(){return V.New();}),Empty:function(){var r6,r7;r6=q.BaseFormlet().Empty();r7=function(r8){return q.OfIFormlet(r8);};return r7(r6);},FailWith:function(r9){var r_,r$;r_=q.BaseFormlet().FailWith(r9);r$=function(sa){return q.OfIFormlet(sa);};return r$(r_);},FlipBody:function(sb){var sc,sd,se,sg;sc=(sd=q.BaseFormlet().FlipBody(sb),(se=function(sf){return q.PropagateRenderFrom(sb,sf);},se(sd)));sg=function(sh){return q.OfIFormlet(sh);};return sg(sc);},Flowlet:function(si){var sj,sk,sl,sm,so,sq;sj=(sk=(sl=q.BaseFormlet(),(sm=q.Layout().get_Flowlet(),function(sn){return sl.WithLayout(sm,sn);})(si)),(so=function(sp){return q.PropagateRenderFrom(si,sp);},so(sk)));sq=function(sr){return q.OfIFormlet(sr);};return sq(sj);},Horizontal:function(ss){var st,su,sv,sw,sy,sA;st=(su=(sv=q.BaseFormlet(),(sw=q.Layout().get_Horizontal(),function(sx){return sv.WithLayout(sw,sx);})(ss)),(sy=function(sz){return q.PropagateRenderFrom(ss,sz);},sy(su)));sA=function(sB){return q.OfIFormlet(sB);};return sA(st);},InitWith:function(sC,sD){var sE,sF,sG,sI,sK;sE=(sF=(sG=q.BaseFormlet(),function(sH){return sG.InitWith(sC,sH);}(sD)),(sI=function(sJ){return q.PropagateRenderFrom(sD,sJ);},sI(sF)));sK=function(sL){return q.OfIFormlet(sL);};return sK(sE);},InitWithFailure:function(sM){var sN,sO,sP,sR;sN=(sO=q.BaseFormlet().InitWithFailure(sM),(sP=function(sQ){return q.PropagateRenderFrom(sM,sQ);},sP(sO)));sR=function(sS){return q.OfIFormlet(sS);};return sR(sN);},Join:function(sT){var sU,sV,sW,sX,sY,s1,s2,s4,s6;sU=(sV=(sW=(sX=(sY=function(sZ){return sZ;},function(s0){return r.Map(sY,s0);}),sX(sT)),(s1=(s2=q.BaseFormlet(),function(s3){return s2.Join(s3);}),s1(sW))),(s4=function(s5){return q.PropagateRenderFrom(sT,s5);},s4(sV)));s6=function(s7){return q.OfIFormlet(s7);};return s6(sU);},LiftResult:function(s8){var s9,s_,s$,tb;s9=(s_=q.BaseFormlet().LiftResult(s8),(s$=function(ta){return q.PropagateRenderFrom(s8,ta);},s$(s_)));tb=function(tc){return q.OfIFormlet(tc);};return tb(s9);},Map:function(td,te){var tf,tg,th,tj,tl;tf=(tg=(th=q.BaseFormlet(),function(ti){return th.Map(td,ti);}(te)),(tj=function(tk){return q.PropagateRenderFrom(te,tk);},tj(tg)));tl=function(tm){return q.OfIFormlet(tm);};return tl(tf);},MapBody:function(tn,to){var tp,tq,tr,tt,tv;tp=(tq=(tr=q.BaseFormlet(),function(ts){return tr.MapBody(tn,ts);}(to)),(tt=function(tu){return q.PropagateRenderFrom(to,tu);},tt(tq)));tv=function(tw){return q.OfIFormlet(tw);};return tv(tp);},MapElement:function(tx,ty){var tz,tA,tB,tC,tD,tG,tI;tz=(tA=(tB=(tC=q.BaseFormlet(),(tD=function(tE){return $.New(c,{Element:tx(tE.Element),Label:tE.Label});},function(tF){return tC.MapBody(tD,tF);})),tB(ty)),(tG=function(tH){return q.PropagateRenderFrom(ty,tH);},tG(tA)));tI=function(tJ){return q.OfIFormlet(tJ);};return tI(tz);},MapResult:function(tK,tL){var tM,tN,tO,tQ,tS;tM=(tN=(tO=q.BaseFormlet(),function(tP){return tO.MapResult(tK,tP);}(tL)),(tQ=function(tR){return q.PropagateRenderFrom(tL,tR);},tQ(tN)));tS=function(tT){return q.OfIFormlet(tT);};return tS(tM);},Never:function(){var tU,tV;tU=q.BaseFormlet().Never();tV=function(tW){return q.OfIFormlet(tW);};return tV(tU);},New:function(tX){var tY,tZ;tY=q.BaseFormlet().New(tX);tZ=function(t0){return q.OfIFormlet(t0);};return tZ(tY);},OfElement:function(t1){var t2;t2=function(){var t4;t4=t1(null);return[t4,function(t5){t5;},q.RX().Return($.New(l,{$:0,$0:null}))];};return q.MkFormlet(t2);},Render:function(t6){var t7,t9;t7=t6.Run(function(t8){t8;});t9=function(t_){return q.PropagateRenderFrom(t6,t_);};return t9(t7);},Replace:function(t$,ua){var ub,uc,ud,uf,uh;ub=(uc=(ud=q.BaseFormlet(),function(ue){return ud.Replace(t$,ue);}(ua)),(uf=function(ug){return q.PropagateRenderFrom(t$,ug);},uf(uc)));uh=function(ui){return q.OfIFormlet(ui);};return uh(ub);},ReplaceFirstWithFailure:function(uj){var uk,ul,um,uo;uk=(ul=q.BaseFormlet().ReplaceFirstWithFailure(uj),(um=function(un){return q.PropagateRenderFrom(uj,un);},um(ul)));uo=function(up){return q.OfIFormlet(up);};return uo(uk);},Return:function(uq){var ur,us;ur=q.BaseFormlet().Return(uq);us=function(ut){return q.OfIFormlet(ut);};return us(ur);},ReturnEmpty:function(uu){var uv,uw;uv=q.BaseFormlet().ReturnEmpty(uu);uw=function(ux){return q.OfIFormlet(ux);};return uw(uv);},Run:function(uy,uz){return uz.Run(uy);},SelectMany:function(uA){var uB,uC,uD,uE,uF,uI,uJ,uL,uN;uB=(uC=(uD=(uE=(uF=function(uG){return uG;},function(uH){return r.Map(uF,uH);}),uE(uA)),(uI=(uJ=q.BaseFormlet(),function(uK){return uJ.SelectMany(uK);}),uI(uD))),(uL=function(uM){return q.PropagateRenderFrom(uA,uM);},uL(uC)));uN=function(uO){return q.OfIFormlet(uO);};return uN(uB);},Sequence:function(uP){var uQ,uR,uS,uT,uW,uX,uZ;uQ=(uR=(uS=(uT=function(uU){return uU;},function(uV){return v.map(uT,uV);}),uS(uP)),(uW=(uX=q.BaseFormlet(),function(uY){return uX.Sequence(uY);}),uW(uR)));uZ=function(u0){return q.OfIFormlet(u0);};return uZ(uQ);},Switch:function(u1){var u2,u3,u4,u5,u6,u9,u_,va,vc;u2=(u3=(u4=(u5=(u6=function(u7){return u7;},function(u8){return r.Map(u6,u8);}),u5(u1)),(u9=(u_=q.BaseFormlet(),function(u$){return u_.Switch(u$);}),u9(u4))),(va=function(vb){return q.PropagateRenderFrom(u1,vb);},va(u3)));vc=function(vd){return q.OfIFormlet(vd);};return vc(u2);},Vertical:function(ve){var vf,vg,vh,vi,vk,vm;vf=(vg=(vh=q.BaseFormlet(),(vi=q.Layout().get_Vertical(),function(vj){return vh.WithLayout(vi,vj);})(ve)),(vk=function(vl){return q.PropagateRenderFrom(ve,vl);},vk(vg)));vm=function(vn){return q.OfIFormlet(vn);};return vm(vf);},WithCancelation:function(vo,vp){var vq,vr,vs,vu,vw;vq=(vr=(vs=q.BaseFormlet(),function(vt){return vs.WithCancelation(vo,vt);}(vp)),(vu=function(vv){return q.PropagateRenderFrom(vo,vv);},vu(vr)));vw=function(vx){return q.OfIFormlet(vx);};return vw(vq);},WithLabel:function(vy,vz){var vA,vB,vC,vD,vE,vH,vJ;vA=(vB=(vC=(vD=q.BaseFormlet(),(vE=function(vF){return $.New(c,{Element:vF.Element,Label:vy});},function(vG){return vD.MapBody(vE,vG);})),vC(vz)),(vH=function(vI){return q.PropagateRenderFrom(vz,vI);},vH(vB)));vJ=function(vK){return q.OfIFormlet(vK);};return vJ(vA);},WithLayout:function(vL,vM){var vN,vO,vP,vR,vT;vN=(vO=(vP=q.BaseFormlet(),function(vQ){return vP.WithLayout(vL,vQ);}(vM)),(vR=function(vS){return q.PropagateRenderFrom(vM,vS);},vR(vO)));vT=function(vU){return q.OfIFormlet(vU);};return vT(vN);},WithLayoutOrDefault:function(vV){var vW,vX,vY,v0;vW=(vX=q.BaseFormlet().WithLayoutOrDefault(vV),(vY=function(vZ){return q.PropagateRenderFrom(vV,vZ);},vY(vX)));v0=function(v1){return q.OfIFormlet(v1);};return v0(vW);},WithNotification:function(v2,v3){var v4,v5,v6,v8,v_;v4=(v5=(v6=q.BaseFormlet(),function(v7){return v6.WithNotification(v2,v7);}(v3)),(v8=function(v9){return q.PropagateRenderFrom(v3,v9);},v8(v5)));v_=function(v$){return q.OfIFormlet(v$);};return v_(v4);},WithNotificationChannel:function(wa){var wb,wc,wd,wf;wb=(wc=q.BaseFormlet().WithNotificationChannel(wa),(wd=function(we){return q.PropagateRenderFrom(wa,we);},wd(wc)));wf=function(wg){return q.OfIFormlet(wg);};return wf(wb);}},FormletBuilder:$.Class({Bind:function(wh,wi){var wj,wk,wl,wp,wr;wj=(wk=(wl=q.BaseFormlet(),function(wm){return wl.Bind(wh,wm);}(function(wn){var wo;wo=wi(wn);return wo;})),(wp=function(wq){return q.PropagateRenderFrom(wh,wq);},wp(wk)));wr=function(ws){return q.OfIFormlet(ws);};return wr(wj);},Delay:function(wt){var wu,wv;wu=q.BaseFormlet().Delay(wt);wv=function(ww){return q.OfIFormlet(ww);};return wv(wu);},Return:function(wx){var wy,wz;wy=q.BaseFormlet().Return(wx);wz=function(wA){return q.OfIFormlet(wA);};return wz(wy);},ReturnFrom:function(wB){var wC;wC=function(wD){return q.OfIFormlet(wD);};return wC(wB);}},{New:function(){var wE;wE={};return $.New(this,wE);}}),Layout:{FormRowConfiguration:$.Class({},{get_Default:function(){return $.New(X,{Padding:{$:0},Color:{$:0},Class:{$:0},Style:{$:0},LabelConfiguration:{$:0}});}}),LabelConfiguration:$.Class({},{get_Default:function(){return $.New(Y,{Align:{$:0},VerticalAlign:{$:1},Placement:{$:0}});}}),Padding:$.Class({},{get_Default:function(){return $.New(Z,{Left:{$:0},Right:{$:0},Top:{$:0},Bottom:{$:0}});}})},LayoutProvider:$.Class({ColumnLayout:function(wF){var wG,wH,wS=this;wG=this.LayoutUtils;wH=function(){var wJ,wK,wL,wM,wY;wJ=e.TR($.New(m,{$:0}));wK=e.Table(f.ofArray([e.TBody(f.ofArray([wJ]))]));wL=M.NewElementStore();wM=function(wN){return function(wO){var wP,wQ,wT,wU,wV;wP=wO.Element.get_Id();wQ=e.TD(f.ofArray([e.Table(f.ofArray([e.TBody(f.ofArray([function(wR){return wS.MakeRow(wF,wN,wR);}(wO)]))]))]));wT=o(wJ.Body);wU={contents:0};wV={contents:false};wT.children().each(function(){var wW;wW=o(this);if(wN===wU.contents){o(wQ.Body).insertBefore(wW);wQ.Render();wV.contents=true;}return s.Increment(wU);});if(!wV.contents){wJ.AppendI(wQ);}return wL.RegisterElement(wP,function(){return wQ["HtmlProvider@32"].Remove(wQ.Body);});};};wY=function(wZ){var w0,w1;w0=_0.Get(wZ);while(w0.MoveNext()){w1=w0.get_Current();wL.Remove(w1.Element.get_Id());}};return{Body:$.New(c,{Element:wK,Label:{$:0}}),SyncRoot:null,Insert:wM,Remove:wY};};return wG.New(wH);},HorizontalAlignElem:function(w2,w3){var w4,w5,w6;w4=w2.$==0?"left":"right";return n.add(e.Div(f.ofArray([(w5=e.Attr(),(w6="float:"+w4+";",w5.NewAttr("style",w6)))])),f.ofArray([w3]));},LabelLayout:function(w7){var w8,w9;return this.RowLayout((w8=X.get_Default(),(w9={$:1,$0:w7},$.New(X,{Padding:w8.Padding,Color:w8.Color,Class:w8.Class,Style:w8.Style,LabelConfiguration:w9}))));},MakeLayout:function(w_){var w$,xa;w$=this.LayoutUtils;xa=function(){var xc,xd,xe,xm;xc=w_(null);xd=M.NewElementStore();xe=function(xf){return function(xg){var xh,xi;xh=xg.Element.get_Id();xi=(xc.Insert.call(null,xf))(xg);return xd.RegisterElement(xh,function(){var xk,xl;xk=_0.Get(xi);while(xk.MoveNext()){xl=xk.get_Current();xl["HtmlProvider@32"].Remove(xl.Body);}});};};xm=function(xn){var xo,xp;xo=_0.Get(xn);while(xo.MoveNext()){xp=xo.get_Current();xd.Remove(xp.Element.get_Id());}};return{Body:$.New(c,{Element:xc.Panel,Label:{$:0}}),SyncRoot:null,Insert:xe,Remove:xm};};return w$.New(xa);},MakeRow:function(xq,xr,xs){var xt,xu,xv,xw,xx,xA,xB,xC,xD,xG,xH,xI,xJ,xM,xN,xO,xP,xS,xT,xU,xV,xY,yw,yx,yy,yz,yA,yB,yC,yD,yE,yH,yI,yJ,yK,yM=this,yN,yO,yP,yQ,yR,yS,yT,yU,yV,yW,y0,y1,y2,y3,y4,y8,y9,y_,y$,za,zd,ze,zf,zi,zl,zm,zn;xt=(xu=xq.Padding,(xv=(xw=Z.get_Default(),(xx=function(xy){return xy;},function(xz){return w.Maybe(xw,xx,xz);})),xv(xu)));xA=(xB=xt.Left,(xC=(xD=function(xE){return xE;},function(xF){return w.Maybe(0,xD,xF);}),xC(xB)));xG=(xH=xt.Top,(xI=(xJ=function(xK){return xK;},function(xL){return w.Maybe(0,xJ,xL);}),xI(xH)));xM=(xN=xt.Right,(xO=(xP=function(xQ){return xQ;},function(xR){return w.Maybe(0,xP,xR);}),xO(xN)));xS=(xT=xt.Bottom,(xU=(xV=function(xW){return xW;},function(xX){return w.Maybe(0,xV,xX);}),xU(xT)));xY=function(xZ){return function(x0){return function(x1){return function(x2){return function(x3){return function(x4){return function(x5){var x6,x7,x8,x9,x_,yd,ye,yi,yj,yk,yo,yp,yq,yr,ys,yt,yu,yv;x6=(x7=(x8=f.ofArray([["padding-left: ",xZ],["padding-top: ",x0],["padding-right: ",x1],["padding-bottom: ",x2]]),(x9=(x_=$.Tupled(function(x$){var ya,yb;ya=x$[0];yb=x$[1];return ya+$$.String(yb)+"px;";}),function(yc){return f.map(x_,yc);}),x9(x8))),(yd=(ye=function(yf){return function(yg){return yf+yg;};},function(yh){return v.reduce(ye,yh);}),yd(x7)));yi=(yj=(yk=function(yl){var ym;ym=yl.$==1?"middle":yl.$==2?"bottom":"top";return"vertical-align: "+ym+";";},function(yn){return w.Maybe("",yk,yn);}),yj(x4));yo=(yp=e.Attr(),(yq=x6+";"+yi,yp.NewAttr("style",yq)));yr=x3?f.ofArray([(ys=e.Attr(),ys.NewAttr("colspan","2"))]):$.New(m,{$:0});yt=(yu=$.New(m,{$:1,$0:yo,$1:yr}),(yv=f.ofArray([x5]),f.append(yu,yv)));return e.TD(yt);};};};};};};};yw=xs.Element;yx=(yy=xs.Label,yy.$==1?(yz=yy.$0,(yA=(yB=xq.LabelConfiguration,(yC=(yD=Y.get_Default(),(yE=function(yF){return yF;},function(yG){return w.Maybe(yD,yE,yG);})),yC(yB))),(yH=(yI=yz(null),(yJ=(yK=yA.Align,function(yL){return yM.HorizontalAlignElem(yK,yL);}),yJ(yI))),(yN=yA.Placement,yN.$==3?f.ofArray([(yO=w.InTable(f.ofArray([f.ofArray([yw]),f.ofArray([yH])])),(yP=(((((xY(xA))(xG))(xM))(xS))(true))({$:0}),yP(yO)))]):yN.$==0?f.ofArray([((((((xY(xA))(xG))(0))(xS))(false))({$:1,$0:yA.VerticalAlign}))(yH),((((((xY(0))(xG))(xM))(xS))(false))({$:0}))(yw)]):yN.$==1?f.ofArray([((((((xY(xA))(xG))(0))(xS))(false))({$:1,$0:yA.VerticalAlign}))(yw),((((((xY(0))(xG))(xM))(xS))(false))({$:0}))(yH)]):f.ofArray([(yQ=w.InTable(f.ofArray([f.ofArray([yH]),f.ofArray([yw])])),(yR=(((((xY(xA))(xG))(xM))(xS))(true))({$:0}),yR(yQ)))]))))):f.ofArray([((((((xY(xA))(xG))(xM))(xS))(true))({$:0}))(yw)]));yS=(yT=xq.Class,(yU=(yV=$.New(m,{$:0}),(yW=function(yX){var yY;return f.ofArray([(yY=yX(xr),e.Attr().Class(yY))]);},function(yZ){return w.Maybe(yV,yW,yZ);})),yU(yT)));y0=(y1=xq.Color,(y2=(y3=$.New(m,{$:0}),(y4=function(y5){var y6;y6=y5(xr);return f.ofArray(["background-color: "+y6]);},function(y7){return w.Maybe(y3,y4,y7);})),y2(y1)));y8=(y9=xq.Style,(y_=(y$=$.New(m,{$:0}),(za=function(zb){return f.ofArray([zb(xr)]);},function(zc){return w.Maybe(y$,za,zc);})),y_(y9)));zd=(ze=f.append(y0,y8),ze.$==0?$.New(m,{$:0}):f.ofArray([(zf=v.reduce(function(zg){return function(zh){return zg+";"+zh;};},ze),(zi=function(zj){var zk;zk=e.Attr();return zk.NewAttr("style",zj);},zi(zf)))]));zl=(zm=(zn=f.append(zd,yx),f.append(zd,zn)),f.append(yS,zm));return e.TR(zl);},RowLayout:function(zo){var zp,zq,zB=this;zp=this.LayoutUtils;zq=function(){var zs,zt,zu,zv,zH;zs=e.TBody($.New(m,{$:0}));zt=e.Table(f.ofArray([zs]));zu=M.NewElementStore();zv=function(zw){return function(zx){var zy,zz,zC,zD,zE;zy=zx.Element.get_Id();zz=function(zA){return zB.MakeRow(zo,zw,zA);}(zx);zC=o(zs.Body);zD={contents:0};zE={contents:false};zC.children().each(function(){var zF;zF=o(this);if(zw===zD.contents){o(zz.Body).insertBefore(zF);zz.Render();zE.contents=true;}return s.Increment(zD);});if(!zE.contents){zs.AppendI(zz);}return zu.RegisterElement(zy,function(){return zz["HtmlProvider@32"].Remove(zz.Body);});};};zH=function(zI){var zJ,zK;zJ=_0.Get(zI);while(zJ.MoveNext()){zK=zJ.get_Current();zu.Remove(zK.Element.get_Id());}};return{Body:$.New(c,{Element:zt,Label:{$:0}}),SyncRoot:null,Insert:zv,Remove:zH};};return zp.New(zq);},VerticalAlignedTD:function(zL,zM){var zN,zO,zP,zQ;zN=zL.$==1?"middle":zL.$==2?"bottom":"top";zO=e.TD(f.ofArray([zM]));zP=zO["HtmlProvider@32"];((zQ=zO.Body,function(zR){return function(zS){return zP.SetCss(zQ,zR,zS);};})("vertical-align"))(zN);return zO;},get_Flowlet:function(){var zT;zT=function(){var zV,zW;zV=e.Div($.New(m,{$:0}));zW=function(){return function(zY){var zZ,z0;zZ=zY.Label.$==1?zY.Label.$0.call(null,null):e.Span($.New(m,{$:0}));z0=w.InTable(f.ofArray([f.ofArray([zZ,e.Div(f.ofArray([zY.Element]))])]));zV["HtmlProvider@32"].Clear(zV.Body);zV.AppendI(z0);return f.ofArray([z0]);};};return{Insert:zW,Panel:zV};};return this.MakeLayout(zT);},get_Horizontal:function(){return this.ColumnLayout(X.get_Default());},get_Vertical:function(){return this.RowLayout(X.get_Default());}},{New:function(z1){var z2;z2={};z2.LayoutUtils=z1;return $.New(this,z2);}}),Utils:{InTable:function(z3){var z4,z5,z6,Ac,Ad;z4=(z5=(z6=function(z7){var z8,z9,z_;z8=(z9=(z_=function(z$){return e.TD(f.ofArray([z$]));},function(Aa){return f.map(z_,Aa);}),z9(z7));return e.TR(z8);},function(Ab){return f.map(z6,Ab);}),z5(z3));Ac=e.TBody((Ad=function(Ae){return Ae;},Ad(z4)));return e.Table(f.ofArray([Ac]));},MapOption:function(Af,Ag){var Ah;if(Ag.$==1){Ah=Ag.$0;return{$:1,$0:Af(Ah)};}else{return{$:0};}},Maybe:function(Ai,Aj,Ak){var Al;if(Ak.$==0){return Ai;}else{Al=Ak.$0;return Aj(Al);}}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Body);d=$.Safe(a.Html);e=$.Safe(d.Default);f=$.Safe(a.List);g=$.Safe(b.Controls);h=$.Safe($$.IntelliFactory.Reactive);i=$.Safe(h["HotStream`1"]);j=$.Safe($$.IntelliFactory.Formlet);k=$.Safe(j.Base);l=$.Safe(k["Result`1"]);m=$.Safe(f.T);n=$.Safe(d.Operators);o=$.Safe($$.jQuery);p=$.Safe(d.EventsPervasives);q=$.Safe(b.Data);r=$.Safe(b.Formlet);s=$.Safe(a.Operators);t=$.Safe(b.CssConstants);u=$.Safe($$.Math);v=$.Safe(a.Seq);w=$.Safe(b.Utils);x=$.Safe(k.Tree);y=$.Safe(x["Edit`1"]);z=$.Safe(k["Form`2"]);A=$.Safe(a.Arrays);B=$.Safe(k["FormletProvider`1"]);C=$.Safe(q["Formlet`1"]);D=$.Safe(a.Util);E=$.Safe(b.LayoutProvider);F=$.Safe(k.LayoutUtils);G=$.Safe(h.Reactive);H=$.Safe(k.Validator);I=$.Safe(q.ValidatorProvidor);J=$.Safe($$.RegExp);K=$.Safe(a.Collections);L=$.Safe(K.Dictionary);M=$.Safe(b["ElementStore`1"]);N=$.Safe(b.Enhance);O=$.Safe(N.FormButtonConfiguration);P=$.Safe(N.FormContainerConfiguration);Q=$.Safe(N.Padding);R=$.Safe(N.ManyConfiguration);S=$.Safe(N.ValidationFrameConfiguration);T=$.Safe(N.ValidationIconConfiguration);U=$.Safe($$.JSON);V=$.Safe(b.FormletBuilder);W=$.Safe(b.Layout);X=$.Safe(W.FormRowConfiguration);Y=$.Safe(W.LabelConfiguration);Z=$.Safe(W.Padding);return _0=$.Safe(a.Enumerator);});$.OnLoad(function(){r.Do();q.Validator();q.RX();q.Layout();q.DefaultLayout();t.InputTextClass();});}());
